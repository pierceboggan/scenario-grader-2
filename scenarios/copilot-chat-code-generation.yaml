id: copilot-chat-code-generation
name: "Generate Code via Copilot Chat"
owner: "@copilot-team"
tags: [copilot, chat, code-generation]
priority: P0

description: >
  A user asks Copilot Chat to write a function. Captures the 
  end-to-end experience of prompting for code and receiving
  a working implementation.

environment:
  vscodeTarget: desktop
  vscodeVersion: stable
  platform: macOS
  copilotChannel: stable

preconditions:
  - "VS Code installed with GitHub Copilot extension"
  - "User authenticated to GitHub Copilot"

steps:
  - id: open_chat
    description: "Open Copilot Chat"
    action: openCopilotChat
    hints:
      - type: keyboard
        keys: ["cmd+shift+i"]
    timeout: 5000

  - id: send_prompt
    description: "Ask for a code snippet"
    action: sendChatMessage
    args:
      message: "Write a TypeScript function that validates email addresses"
      waitForResponse: true
    timeout: 30000

observations:
  - id: response_time
    question: "How long did it take to get a response?"
    category: performance
  - id: code_block_visible
    question: "Is the generated code in a clearly formatted code block?"
    category: clarity
  - id: copy_button
    question: "Is there an easy way to copy the code?"
    category: usability
  - id: insert_option
    question: "Can the user insert the code directly into a file?"
    category: usability

outputs:
  captureVideo: true
  screenshots:
    - atStep: open_chat
      name: "chat-open"
    - atStep: send_prompt
      name: "code-generated"
  storeChatTranscript: true
  storeLogs: true
